(this["webpackJsonpcovid-19-statistics"]=this["webpackJsonpcovid-19-statistics"]||[]).push([[0],{198:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(9),c=a.n(o),s=(a(80),a(14)),l=a.n(s),i=a(28),u=a(7),d=(a(82),a(203)),m=a(204),v=a(202),h=a(205),p=a(12),f=a.n(p),b=a(19),g=a(20);function y(){var e=Object(b.a)([""]);return y=function(){return e},e}function E(){var e=Object(b.a)(['\n  text-align: "start";\n  height: "350px";\n  margin-top: "30px";\n']);return E=function(){return e},e}function C(){var e=Object(b.a)(['\n  font-weight: "bold";\n  font-size: "26px";\n']);return C=function(){return e},e}function j(){var e=Object(b.a)(['\n  font-size: "15px";\n  margin-bottom: "20px";\n']);return j=function(){return e},e}var O=g.a.h6(j()),x=g.a.h5(C()),w=g.a.div(E()),D=function(){var e=Object(r.useContext)(F),t=e.countryData,a=e.countryTodayData,o=t.country,c=t.deaths,s=t.active,l=t.critical,i=t.cases,u=t.recovered,d=t.tests,m=a.todayDeaths,v=a.todayCases,h=a.todayRecovered,p=g.a.span(y());return Object(r.useEffect)((function(){console.log(t,a)})),n.a.createElement(w,null,n.a.createElement(x,null,o),n.a.createElement(O,null,"Tests:",d),n.a.createElement(O,null,"Active:",s),n.a.createElement(O,null,"Cases:",i,n.a.createElement(p,{className:"badge badge-warning ml-2"},"+",v)),n.a.createElement(O,null,"Critical:",l),n.a.createElement(O,null,"Recovered:",u,n.a.createElement(p,{className:"badge badge-success ml-2"},"+",h)),n.a.createElement(O,null,"Deaths:",c,n.a.createElement(p,{className:"badge badge-danger ml-2"},"+",m)))};var k=function(e){var t=e.position,a=Object(r.useRef)();return Object(r.useEffect)((function(){a.current.leafletElement.flyTo(t,4,{duration:3})}),[]),n.a.createElement(d.a,{ref:a,center:t,zoom:4},n.a.createElement(m.a,{zIndex:-5,url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n.a.createElement(v.a,{position:t},n.a.createElement(h.a,null,n.a.createElement(D,null))))},S=function(e){var t=e.title,a=e.value,r=e.todayValue,o="rgba(241, 196, 15,0.5)";return"Deaths"===t&&(o="rgba(245, 7, 15,0.5)"),"Recovered"===t&&(o="rgba(63, 209, 4,0.5)"),n.a.createElement("div",{className:"card",style:{width:300,height:150,backgroundColor:"transparent",color:"whitesmoke",border:0,margin:"2rem",borderRadius:"10px 10px 0 0"}},r?n.a.createElement("span",{style:{backgroundColor:o,width:90,height:90,position:"absolute",top:0,right:0,borderRadius:50,transform:"translate(50%,-50%)",lineHeight:6,fontWeight:"bold",fontFamily:"'Baloo Tamma 2', cursive",fontSize:16}},"+",r):null,n.a.createElement("h1",{style:{backgroundColor:"rgba(0, 114, 255,0.3)",borderRadius:"10px 10px 0 0",padding:"5px 0",fontFamily:"'Baloo Tamma 2', cursive"}},t),n.a.createElement("h2",{style:{lineHeight:"80px",color:"GrayText",height:"100%",backgroundColor:"rgba(255, 255, 255,0.5)",fontFamily:"'Montserrat', sans-serif"}},a))},R=a(74),T=function(e){var t=e.query,a=Object(r.useState)({}),o=Object(u.a)(a,2),c=o[0],s=o[1],d=Object(r.useState)(""),m=Object(u.a)(d,2),v=m[0],h=m[1],p=function(e){var t=e;return t=t.map((function(e){return e.slice(0,e.length-3)})),console.log(t),t},b=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.a.get("https://disease.sh/v3/covid-19/historical/".concat(t,"?lastdays=7")).then((function(e){var t=e.data,a=t.country,r=t.timeline,n=r.deaths,o=r.cases,c=r.recovered;console.log("deaths",n),console.log("cases",o),h(a),s({labels:p(Object.keys(n)),datasets:[{label:"Deaths",data:Object.values(n),borderColor:"rgba(236, 112, 99, 0.8 )",backgroundColor:"rgba(236, 112, 99, 0.8 )",pointBorderColor:"#666",pointBackgroundColor:"rgba(236, 112, 99, 1)"},{label:"Recovered",data:Object.values(c),borderColor:"rgba(130, 224, 170, 0.8)",backgroundColor:"rgba(130, 224, 170, 0.8)",pointBorderColor:"#666",pointBackgroundColor:"rgba(130, 224, 170, 1)"},{label:"Cases",data:Object.values(o),borderColor:"rgba(247, 220, 111, 0.8)",backgroundColor:"rgba(247, 220, 111, 0.8)",pointBorderColor:"#666",pointBackgroundColor:"rgba(247, 220, 111, 1)"}]})})).catch((function(e){e.response&&404===e.response.status&&alert("oops Page Not Found")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=!0,y=!0,E="bottom";Object(r.useEffect)((function(){b(t),console.log(c)}),[t]);var C=g,j=y,O=E;return n.a.createElement("div",{className:"chart"},n.a.createElement(R.Line,{height:300,width:300,data:c,options:{title:{display:C,text:"Past 7 days in "+v,fontSize:25,fontColor:"White",fontFamily:"'Baloo Tamma 2', cursive"},legend:{display:j,position:O,labels:{fontColor:"white",fontSize:18,fontFamily:"'Baloo Tamma 2', cursive"}}}}))},N=function(e){var t=e.value,a=e.handleChange,r=e.handleSubmit,o=n.a.useState(""),c=Object(u.a)(o,2),s=c[0],l=c[1];return n.a.createElement("form",{className:"form-inline",onSubmit:function(e){e.preventDefault(),r(s)}},n.a.createElement("input",{type:"search",className:"form-control mr-sm-2",placeholder:"Search","aria-label":"Search",onChange:function(e){l(e.currentTarget.value),a(e.currentTarget.value)},value:t,style:{position:"absolute",top:15,width:150,right:10,zIndex:10}}))},B=a(15);f.a.interceptors.response.use(null,(function(e){return e.response&&e.response>=400&&e.response<500||(console.log("Logging the error "+e),B.b.error("An unexpected error occurred")),Promise.reject(e)}));var z={get:f.a.get,post:f.a.post,put:f.a.put,delete:f.a.delete},F=(a(197),n.a.createContext({}));var W=function(){var e=Object(r.useState)([34,-7]),t=Object(u.a)(e,2),a=t[0],o=t[1],c=Object(r.useState)({country:"Morocco",deaths:0,active:0,critical:0,cases:0,recovered:0,tests:0}),s=Object(u.a)(c,2),d=s[0],m=s[1],v=Object(r.useState)({deaths:0,active:0,critical:0,cases:0,recovered:0,tests:0}),h=Object(u.a)(v,2),p=h[0],f=h[1],b=Object(r.useState)({todayDeaths:0,todayCases:0,todayRecovered:0}),g=Object(u.a)(b,2),y=g[0],E=g[1],C=Object(r.useState)({todayDeaths:0,todayCases:0,todayRecovered:0}),j=Object(u.a)(C,2),O=j[0],x=j[1],w=Object(r.useState)(""),D=Object(u.a)(w,2),R=D[0],W=D[1],I=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z.get("https://disease.sh/v3/covid-19/all").then((function(e){var t=e.data,a=t.deaths,r=t.active,n=t.critical,o=t.cases,c=t.recovered,s=t.tests,l=t.todayDeaths,i=t.todayCases,u=t.todayRecovered;f({deaths:a,active:r,critical:n,cases:o,recovered:c,tests:s}),x({todayDeaths:l,todayCases:i,todayRecovered:u})})).catch((function(e){e.response&&404===e.response.status&&B.b.error("ooops Page Not Found")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(e){console.log(e),z.get("https://disease.sh/v3/covid-19/countries/".concat(e,"?strict=true&allowNull=0")).then((function(e){var t=e.data.countryInfo,a=t.lat,r=t.long,n=e.data,c=n.country,s=n.deaths,l=n.active,i=n.critical,u=n.cases,d=n.recovered,v=n.tests,h=n.todayDeaths,p=n.todayCases,f=n.todayRecovered;m({country:c,deaths:s,active:l,critical:i,cases:u,recovered:d,tests:v}),E({todayDeaths:h,todayCases:p,todayRecovered:f}),o([a,r])})).catch((function(e){e.response&&404===e.response.status&&B.b.error("oops Try Diffrente Country")}))};Object(r.useEffect)((function(){P(d.country),I()}),[]);var A=p.deaths,V=p.active,M=p.critical,q=p.cases,H=p.recovered,J=p.tests,L=O.todayDeaths,G=O.todayCases,$=O.todayRecovered;return n.a.createElement("div",{className:"App",style:{padding:"2rem"}},n.a.createElement(B.a,null),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexWrap:"nowrap",justifyContent:"space-between",marginTop:"4rem",alignItems:"center"}},n.a.createElement(N,{value:R,handleChange:function(e){W(e)},handleSubmit:function(e){P(e)}}),n.a.createElement("div",{className:"country-statistics"},n.a.createElement("div",{className:"container"},n.a.createElement(F.Provider,{value:{countryData:d,countryTodayData:y}},n.a.createElement(k,{position:a}))),n.a.createElement("div",{className:"container"},n.a.createElement(T,{query:d.country}))),n.a.createElement("div",{style:{width:"100%",borderRadius:10,padding:"1rem",margin:"4rem 0 0",overflow:"hidden",display:"flex",justifyContent:"space-evenly",flexDirection:"row",flexWrap:"wrap",backgroundColor:"rgba(255, 255, 255,0.2)"}},n.a.createElement(S,{title:"Total Tests",value:J}),n.a.createElement(S,{title:"Total Cases",value:q,todayValue:G}),n.a.createElement(S,{title:"Deaths",value:A,todayValue:L}),n.a.createElement(S,{title:"Recovered",value:H,todayValue:$}),n.a.createElement(S,{title:"Critical",value:M}),n.a.createElement(S,{title:"Active",value:V}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e,t,a){e.exports=a(198)},80:function(e,t,a){},82:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.08adc361.chunk.js.map